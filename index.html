<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø³ÙˆÙ‚ Ø¯ÙŠØ± Ø§Ù„Ø²ÙˆØ±</title>
    
    <!-- Ù…ÙƒØªØ¨Ø§Øª Firebase (Ø§Ù„Ø¥ØµØ¯Ø§Ø± 8.10.0 Ø§Ù„ØªÙ‚Ù„ÙŠØ¯ÙŠ) -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
    
    <!-- Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Firebase -->
    <script>
        // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Firebase Ø§Ù„ØµØ­ÙŠØ­Ø© Ù„Ù…Ø´Ø±ÙˆØ¹ souq-aldeir-4ed7b
        const firebaseConfig = {
            apiKey: "AIzaSyA2FhsRlX4SMpGhzfI0oq_lArSsPTGHUsY",
            authDomain: "souq-aldeir-4ed7b.firebaseapp.com",
            projectId: "souq-aldeir-4ed7b",
            storageBucket: "souq-aldeir-4ed7b.firebasestorage.app",
            messagingSenderId: "925621854708",
            appId: "1:925621854708:web:0a830d0684bc75f6be99a1",
            measurementId: "G-J14JVX1HW4"
        };

        // ØªÙ‡ÙŠØ¦Ø© Firebase Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø© ÙÙ‚Ø·
        if (typeof firebase !== 'undefined') {
            if (!firebase.apps.length) {
                firebase.initializeApp(firebaseConfig);
                console.log("âœ… ØªÙ… ØªÙ‡ÙŠØ¦Ø© Firebase Ø¨Ù†Ø¬Ø§Ø­ - Ù…Ø´Ø±ÙˆØ¹: souq-aldeir-4ed7b");
            }
        }
    </script>
    
    <style>
        /* Ø£Ù†Ù…Ø§Ø· Ø¹Ø§Ù…Ø© */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Arial', sans-serif;
        }
        
        body {
            background-color: #f5f5f5;
            color: #333;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            background: linear-gradient(135deg, #2c3e50, #3498db);
            color: white;
            padding: 20px;
            text-align: center;
            border-radius: 0 0 20px 20px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        .logo {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .tagline {
            font-size: 1.2rem;
            opacity: 0.9;
        }
        
        /* Ø²Ø± ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠ */
        .test-btn {
            background: linear-gradient(135deg, #27ae60, #2ecc71);
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 18px;
            border-radius: 10px;
            cursor: pointer;
            margin: 20px auto;
            display: block;
            width: 80%;
            max-width: 300px;
            transition: transform 0.3s, box-shadow 0.3s;
            box-shadow: 0 4px 15px rgba(39, 174, 96, 0.3);
        }
        
        .test-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(39, 174, 96, 0.4);
        }
        
        /* Ø²Ø± Ø§Ù„Ø¥ØµÙ„Ø§Ø­ */
        .fix-btn {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background: #e74c3c;
            color: white;
            border: none;
            padding: 15px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 20px;
            z-index: 1000;
            box-shadow: 0 4px 15px rgba(231, 76, 60, 0.3);
        }
        
        /* Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª */
        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 25px;
            margin-top: 30px;
            padding: 20px;
        }
        
        .product-card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            transition: transform 0.3s;
        }
        
        .product-card:hover {
            transform: translateY(-5px);
        }
        
        .product-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 10px;
            margin-bottom: 15px;
        }
        
        .product-title {
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 10px;
            color: #2c3e50;
        }
        
        .product-price {
            color: #e74c3c;
            font-size: 1.5rem;
            font-weight: bold;
            margin: 10px 0;
        }
        
        .contact-btn {
            background: #3498db;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            width: 100%;
            font-size: 16px;
            margin-top: 10px;
        }
        
        /* Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡ */
        .alert {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 25px;
            border-radius: 10px;
            color: white;
            font-weight: bold;
            z-index: 10000;
            animation: slideIn 0.3s ease;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }
        
        .alert.success {
            background: linear-gradient(135deg, #27ae60, #2ecc71);
        }
        
        .alert.error {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
        }
        
        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
        
        /* Ø§Ù„ÙÙˆØªØ± */
        footer {
            text-align: center;
            padding: 20px;
            margin-top: 40px;
            background: #2c3e50;
            color: white;
            border-radius: 20px 20px 0 0;
        }
        
        /* Ù…ØªØ¬Ø§ÙˆØ¨ Ù…Ø¹ Ø§Ù„Ù‡Ø§ØªÙ */
        @media (max-width: 768px) {
            .products-grid {
                grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
                padding: 10px;
            }
            
            .container {
                padding: 10px;
            }
            
            header {
                padding: 15px;
            }
            
            .logo {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <!-- Ø§Ù„Ù‡ÙŠØ¯Ø± -->
    <header>
        <div class="container">
            <div class="logo">Ø³ÙˆÙ‚ Ø¯ÙŠØ± Ø§Ù„Ø²ÙˆØ±</div>
            <div class="tagline">Ø§Ù„Ø³ÙˆÙ‚ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ø§Ù„Ø£ÙˆÙ„ ÙÙŠ Ø§Ù„Ù…Ù†Ø·Ù‚Ø©</div>
        </div>
    </header>

    <!-- Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ -->
    <main class="container">
        <!-- Ø²Ø± ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠ -->
        <button class="test-btn" onclick="signupTestUser()">
            ğŸ‘¤ ØªØ³Ø¬ÙŠÙ„ Ù…Ø³ØªØ®Ø¯Ù… ØªØ¬Ø±ÙŠØ¨ÙŠ
        </button>
        
        <!-- Ù‚Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª -->
        <h2 style="text-align: center; margin: 30px 0; color: #2c3e50;">Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…ØªØ§Ø­Ø©</h2>
        
        <div class="products-grid">
            <!-- Ù…Ù†ØªØ¬ 1 -->
            <div class="product-card">
                <img src="https://via.placeholder.com/300x200/3498db/ffffff?text=Ø¯Ø±Ø§Ø¬Ø©+Ù‡ÙˆØ§Ø¦ÙŠØ©" alt="Ø¯Ø±Ø§Ø¬Ø© Ù‡ÙˆØ§Ø¦ÙŠØ©" class="product-image">
                <h3 class="product-title">Ø¯Ø±Ø§Ø¬Ø© Ù‡ÙˆØ§Ø¦ÙŠØ© Ù„Ù„Ø£Ø·ÙØ§Ù„</h3>
                <p>Ù…Ù†Ø§Ø³Ø¨Ø© Ù„Ù„Ø£Ø·ÙØ§Ù„ 5-10 Ø³Ù†ÙˆØ§Øª - Ù„ÙˆÙ† Ø£Ø²Ø±Ù‚ - Ø¹Ø¬Ù„ØªÙŠÙ† Ø¥Ø¶Ø§ÙÙŠØªÙŠÙ† - Ø¬Ø±Ø³</p>
                <div class="product-price">$350</div>
                <button class="contact-btn">ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø§Ù„Ø¨Ø§Ø¦Ø¹</button>
            </div>
            
            <!-- Ù…Ù†ØªØ¬ 2 -->
            <div class="product-card">
                <img src="https://via.placeholder.com/300x200/e74c3c/ffffff?text=Ù‡Ø§ØªÙ+Ø°ÙƒÙŠ" alt="Ù‡Ø§ØªÙ Ø°ÙƒÙŠ" class="product-image">
                <h3 class="product-title">Ù‡Ø§ØªÙ Ø°ÙƒÙŠ Ù…Ø³ØªØ¹Ù…Ù„</h3>
                <p>Ø³Ø§Ù…Ø³ÙˆÙ†Ø¬ Ø¬Ø§Ù„Ø§ÙƒØ³ÙŠ - Ø­Ø§Ù„Ø© Ø¬ÙŠØ¯Ø© - Ø´Ø§Ø´Ø© 6 Ø¨ÙˆØµØ© - Ø°Ø§ÙƒØ±Ø© 64 Ø¬ÙŠØ¬Ø§</p>
                <div class="product-price">$150</div>
                <button class="contact-btn">ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø§Ù„Ø¨Ø§Ø¦Ø¹</button>
            </div>
            
            <!-- Ù…Ù†ØªØ¬ 3 -->
            <div class="product-card">
                <img src="https://via.placeholder.com/300x200/2ecc71/ffffff?text=ÙƒØªØ¨+Ù…Ø¯Ø±Ø³ÙŠØ©" alt="ÙƒØªØ¨ Ù…Ø¯Ø±Ø³ÙŠØ©" class="product-image">
                <h3 class="product-title">ÙƒØªØ¨ Ù…Ø¯Ø±Ø³ÙŠØ©</h3>
                <p>ÙƒØªØ¨ Ø§Ù„ØµÙ Ø§Ù„Ø«Ø§Ù…Ù† - Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ÙˆØ§Ø¯ - Ø·Ø¨Ø¹Ø© Ø¬Ø¯ÙŠØ¯Ø© - Ø­Ø§Ù„Ø© Ù…Ù…ØªØ§Ø²Ø©</p>
                <div class="product-price">$45</div>
                <button class="contact-btn">ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø§Ù„Ø¨Ø§Ø¦Ø¹</button>
            </div>
        </div>
    </main>

    <!-- Ø²Ø± Ø§Ù„Ø¥ØµÙ„Ø§Ø­ -->
    <button class="fix-btn" onclick="fixFirebase()">ğŸ”§</button>

    <!-- Ø§Ù„ÙÙˆØªØ± -->
    <footer>
        <div class="container">
            <p>Â© 2024 Ø³ÙˆÙ‚ Ø¯ÙŠØ± Ø§Ù„Ø²ÙˆØ±. Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©.</p>
            <p style="margin-top: 10px; opacity: 0.8;">Ù†Ø³Ø®Ø©: Firebase 8.10.0</p>
        </div>
    </footer>

    <!-- Ø£ÙƒÙˆØ§Ø¯ JavaScript -->
    <script>
        // ===========================================
        // 1. Ø¯Ø§Ù„Ø© Ø¹Ø±Ø¶ Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡
        // ===========================================
        function showMessage(message, type = 'info') {
            // Ø¥Ø²Ø§Ù„Ø© Ø£ÙŠ Ø±Ø³Ø§Ù„Ø© Ø³Ø§Ø¨Ù‚Ø©
            const oldAlert = document.querySelector('.alert');
            if (oldAlert) oldAlert.remove();
            
            // Ø¥Ù†Ø´Ø§Ø¡ Ø±Ø³Ø§Ù„Ø© Ø¬Ø¯ÙŠØ¯Ø©
            const alertDiv = document.createElement('div');
            alertDiv.className = `alert ${type}`;
            alertDiv.textContent = message;
            document.body.appendChild(alertDiv);
            
            // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø¨Ø¹Ø¯ 5 Ø«ÙˆØ§Ù†ÙŠ
            setTimeout(() => {
                if (alertDiv.parentNode) {
                    alertDiv.remove();
                }
            }, 5000);
        }

        // ===========================================
        // 2. Ø¯Ø§Ù„Ø© ØªØ³Ø¬ÙŠÙ„ Ù…Ø³ØªØ®Ø¯Ù… ØªØ¬Ø±ÙŠØ¨ÙŠ
        // ===========================================
        function signupTestUser() {
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø£Ù† Firebase Ù…Ø­Ù…Ù„
            if (typeof firebase === 'undefined' || !firebase.auth) {
                showMessage('âŒ Ù…ÙƒØªØ¨Ø§Øª Firebase ØºÙŠØ± Ù…Ø­Ù…Ù„Ø©', 'error');
                return;
            }
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø£Ù† Firebase Ù…Ù‡ÙŠØ£
            if (!firebase.apps.length) {
                showMessage('âŒ Firebase ØºÙŠØ± Ù…Ù‡ÙŠØ£', 'error');
                return;
            }
            
            showMessage('ğŸ”„ Ø¬Ø§Ø±ÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø³ØªØ®Ø¯Ù… ØªØ¬Ø±ÙŠØ¨ÙŠ...', 'info');
            
            // Ø¥Ù†Ø´Ø§Ø¡ Ø¨Ø±ÙŠØ¯ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ø¹Ø´ÙˆØ§Ø¦ÙŠ
            const timestamp = Date.now();
            const testEmail = `test_${timestamp}@souq.com`;
            const testPassword = '123456';
            
            // Ù…Ø­Ø§ÙˆÙ„Ø© Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
            firebase.auth().createUserWithEmailAndPassword(testEmail, testPassword)
                .then(function(userCredential) {
                    // Ù†Ø¬Ø§Ø­
                    const user = userCredential.user;
                    showMessage(`âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø³ØªØ®Ø¯Ù… ØªØ¬Ø±ÙŠØ¨ÙŠ Ø¨Ù†Ø¬Ø§Ø­!\nØ§Ù„Ø¨Ø±ÙŠØ¯: ${testEmail}`, 'success');
                    console.log('Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù…Ù†Ø´Ø£:', user.uid);
                    
                    // Ø­Ø°Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¨Ø¹Ø¯ Ø§Ù„ØªØ£ÙƒØ¯ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)
                    setTimeout(() => {
                        user.delete().then(() => {
                            console.log('ØªÙ… Ø­Ø°Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠ');
                        }).catch(error => {
                            console.log('Ù„Ù… ÙŠØªÙ… Ø­Ø°Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:', error.message);
                        });
                    }, 3000);
                })
                .catch(function(error) {
                    // ÙØ´Ù„
                    let errorMessage = 'âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ³Ø¬ÙŠÙ„: ';
                    
                    switch(error.code) {
                        case 'auth/invalid-api-key':
                            errorMessage += 'Ù…ÙØªØ§Ø­ API ØºÙŠØ± ØµØ­ÙŠØ­';
                            break;
                        case 'auth/network-request-failed':
                            errorMessage += 'Ù…Ø´ÙƒÙ„Ø© ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª';
                            break;
                        case 'auth/email-already-in-use':
                            errorMessage += 'Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ù…Ø³ØªØ®Ø¯Ù… Ø¨Ø§Ù„ÙØ¹Ù„';
                            break;
                        case 'auth/weak-password':
                            errorMessage += 'ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± Ø¶Ø¹ÙŠÙØ©';
                            break;
                        default:
                            errorMessage += error.message;
                    }
                    
                    showMessage(errorMessage, 'error');
                    console.error('ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø®Ø·Ø£:', error);
                });
        }

        // ===========================================
        // 3. Ø¯Ø§Ù„Ø© Ø¥ØµÙ„Ø§Ø­ Firebase (Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ù‡Ù†Ø§Ùƒ Ù…Ø´Ø§ÙƒÙ„)
        // ===========================================
        function fixFirebase() {
            showMessage('ğŸ”§ Ø¬Ø§Ø±ÙŠ Ø¥ØµÙ„Ø§Ø­ Firebase...', 'info');
            
            // 1. Ø­Ø°Ù Ù…ÙƒØªØ¨Ø§Øª Firebase Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©
            const oldScripts = document.querySelectorAll('script[src*="firebasejs"]');
            oldScripts.forEach(script => script.remove());
            
            // 2. Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„ Ù…ÙƒØªØ¨Ø§Øª Firebase 8.10.0
            const scripts = [
                'https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js',
                'https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js',
                'https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js'
            ];
            
            let loaded = 0;
            scripts.forEach(src => {
                const script = document.createElement('script');
                script.src = src;
                script.onload = () => {
                    loaded++;
                    if (loaded === scripts.length) {
                        // Ø¨Ø¹Ø¯ ØªØ­Ù…ÙŠÙ„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ÙƒØªØ¨Ø§Øª
                        setTimeout(() => {
                            // Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªÙ‡ÙŠØ¦Ø©
                            if (window.firebase) {
                                try {
                                    // Ø­Ø°Ù Ø£ÙŠ ØªÙ‡ÙŠØ¦Ø© Ø³Ø§Ø¨Ù‚Ø©
                                    if (firebase.apps.length > 0) {
                                        firebase.apps.forEach(app => {
                                            try { app.delete(); } catch(e) {}
                                        });
                                    }
                                    
                                    // Ø§Ù„ØªÙ‡ÙŠØ¦Ø© Ø¨Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØµØ­ÙŠØ­Ø©
                                    firebase.initializeApp({
                                        apiKey: "AIzaSyA2FhsRlX4SMpGhzfI0oq_lArSsPTGHUsY",
                                        authDomain: "souq-aldeir-4ed7b.firebaseapp.com",
                                        projectId: "souq-aldeir-4ed7b",
                                        storageBucket: "souq-aldeir-4ed7b.firebasestorage.app",
                                        messagingSenderId: "925621854708",
                                        appId: "1:925621854708:web:0a830d0684bc75f6be99a1"
                                    });
                                    
                                    showMessage('âœ… ØªÙ… Ø¥ØµÙ„Ø§Ø­ Firebase Ø¨Ù†Ø¬Ø§Ø­!', 'success');
                                    console.log('âœ… Firebase Ù…Ø¹Ø§Ø¯ ØªÙ‡ÙŠØ¦ØªÙ‡');
                                } catch(error) {
                                    showMessage('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªÙ‡ÙŠØ¦Ø©: ' + error.message, 'error');
                                }
                            }
                        }, 500);
                    }
                };
                document.head.appendChild(script);
            });
        }

        // ===========================================
        // 4. Ø§Ø®ØªØ¨Ø§Ø± ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
        // ===========================================
        document.addEventListener('DOMContentLoaded', function() {
            console.log('ğŸ“± ØµÙØ­Ø© Ø³ÙˆÙ‚ Ø¯ÙŠØ± Ø§Ù„Ø²ÙˆØ± Ù…Ø­Ù…Ù„Ø©');
            
            // Ø§Ù†ØªØ¸Ø± 2 Ø«Ø§Ù†ÙŠØ© Ø«Ù… ØªØ­Ù‚Ù‚ Ù…Ù† Firebase
            setTimeout(() => {
                if (typeof firebase !== 'undefined' && firebase.apps.length > 0) {
                    const app = firebase.apps[0];
                    console.log('âœ… Firebase Ù…Ù‡ÙŠØ£:', {
                        projectId: app.options.projectId,
                        apiKey: app.options.apiKey.substring(0, 20) + '...'
                    });
                } else {
                    console.warn('âš ï¸ Firebase ØºÙŠØ± Ù…Ù‡ÙŠØ£ Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­');
                }
            }, 2000);
        });

        // ===========================================
        // 5. Ø§Ø®ØªØµØ§Ø±Ø§Øª Ù„ÙˆØ­Ø© Ø§Ù„Ù…ÙØ§ØªÙŠØ­ (Ù„Ù„ØªØ·ÙˆÙŠØ±)
        // ===========================================
        document.addEventListener('keydown', function(event) {
            // Ctrl + Shift + F Ù„Ø¥ØµÙ„Ø§Ø­ Firebase
            if (event.ctrlKey && event.shiftKey && event.key === 'F') {
                event.preventDefault();
                fixFirebase();
            }
            
            // Ctrl + Shift + T Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØªØ³Ø¬ÙŠÙ„
            if (event.ctrlKey && event.shiftKey && event.key === 'T') {
                event.preventDefault();
                signupTestUser();
            }
        });
    </script>
    
    <!-- Ù…Ù„Ù Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ (Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…ÙˆØ¬ÙˆØ¯Ø§Ù‹) -->
    <script src="app.js"></script>
    <script>
// ÙƒÙˆØ¯ Ø¥ØµÙ„Ø§Ø­ Firebase - Ø³ÙŠØ´ØªØºÙ„ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
setTimeout(function() {
    console.log("ğŸ”§ Ø¬Ø§Ø±ÙŠ Ø¥ØµÙ„Ø§Ø­ Firebase...");
    
    if (typeof firebase !== 'undefined') {
        alert("ğŸ‰ ØªÙ… ØªØ´ØºÙŠÙ„ Ø¥ØµÙ„Ø§Ø­ Firebase!");
        
        // Ù‡Ù†Ø§ Ø¶Ø¹ Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„ÙƒØ§Ù…Ù„ Ø§Ù„Ø°ÙŠ Ø£Ø±Ø³Ù„ØªÙ‡ Ù„Ùƒ
        // Ø³Ø£ÙƒØªØ¨Ù‡ Ù„Ùƒ ÙÙŠ Ø§Ù„Ø®Ø·ÙˆØ© Ø§Ù„ØªØ§Ù„ÙŠØ©...
        
    } else {
        console.error("âŒ Firebase ØºÙŠØ± Ù…Ø­Ù…Ù„");
    }
}, 3000);
</script>
<script>
// ============================================
// ÙƒÙˆØ¯ Ø¥ØµÙ„Ø§Ø­ ÙˆØ¹Ø±Ø¶ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
// Ø³ÙŠØ´ØªØºÙ„ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¹Ù†Ø¯ ÙØªØ­ Ø§Ù„Ù…ÙˆÙ‚Ø¹
// ============================================

document.addEventListener('DOMContentLoaded', function() {
    console.log("ğŸš€ Ø¨Ø¯Ø¡ ØªØ­Ù…ÙŠÙ„ ÙƒÙˆØ¯ Firebase...");
    
    // Ø§Ù†ØªØ¸Ø± 3 Ø«ÙˆØ§Ù† Ø­ØªÙ‰ ÙŠØªÙ… ØªØ­Ù…ÙŠÙ„ Ù…ÙƒØªØ¨Ø§Øª Firebase
    setTimeout(async function() {
        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø£Ù† Firebase Ù…Ø­Ù…Ù„
        if (typeof firebase === 'undefined') {
            console.error("âŒ Ù…ÙƒØªØ¨Ø§Øª Firebase ØºÙŠØ± Ù…Ø­Ù…Ù„Ø©");
            return;
        }
        
        console.log("âœ… Firebase Ø¬Ø§Ù‡Ø²!");
        
        try {
            // ØªÙ‡ÙŠØ¦Ø© Firestore
            const db = firebase.firestore();
            
            // 1. Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ù…Ù†ØªØ¬Ø§Øª
            console.log("ğŸ” Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...");
            const snapshot = await db.collection('products').limit(1).get();
            
            // 2. Ø¥Ø°Ø§ ÙƒØ§Ù†Øª ÙØ§Ø±ØºØ©ØŒ Ø£Ø¶Ù Ù…Ù†ØªØ¬Ø§Ù‹ Ø§ÙØªØ±Ø§Ø¶ÙŠØ§Ù‹
            if (snapshot.empty) {
                console.log("ğŸ“­ Ø§Ù„Ù‚Ø§Ø¹Ø¯Ø© ÙØ§Ø±ØºØ©ØŒ Ø¬Ø§Ø±ÙŠ Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ Ø£ÙˆÙ„ÙŠ...");
                
                const newProduct = {
                    name: "Ø³Ø§Ø¹Ø© Ø°ÙƒÙŠØ© Ø¬Ø¯ÙŠØ¯Ø©",
                    description: "Ø³Ø§Ø¹Ø© Ø±ÙŠØ§Ø¶ÙŠØ© Ø°ÙƒÙŠØ© - Ù…Ù‚Ø§ÙˆÙ…Ø© Ù„Ù„Ù…Ø§Ø¡ - ØªØ¹Ù‚Ø¨ Ù„Ù„Ù†ÙˆÙ… ÙˆØ§Ù„Ø®Ø·ÙˆØ§Øª",
                    price: 120,
                    category: "electronics",
                    imageUrl: "https://via.placeholder.com/300x200/1abc9c/ffffff?text=Ø³Ø§Ø¹Ø©+Ø°ÙƒÙŠØ©",
                    sellerName: "Ø£Ø­Ù…Ø¯",
                    status: "active",
                    createdAt: firebase.firestore.FieldValue.serverTimestamp()
                };
                
                await db.collection('products').add(newProduct);
                console.log("âœ… ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬ Ø§Ù„Ø£ÙˆÙ„!");
                
                // Ø¥Ø´Ø¹Ø§Ø± Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…
                showTempMessage("ğŸ‰ ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ù†Ø¬Ø§Ø­!", "success");
            } else {
                console.log("âœ… Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰", snapshot.size, "Ù…Ù†ØªØ¬");
            }
            
            // 3. Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ÙÙŠ Ø§Ù„ØµÙØ­Ø©
            await displayProductsFromFirestore();
            
            // 4. Ø¥Ø¶Ø§ÙØ© Ø²Ø± Ù„Ù„Ø¥Ø¯Ø§Ø±Ø©
            addAdminButton();
            
        } catch (error) {
            console.error("âŒ Ø®Ø·Ø£:", error);
            showTempMessage("âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª", "error");
        }
    }, 3000);
    
    // Ø¯Ø§Ù„Ø© Ø¹Ø±Ø¶ Ø±Ø³Ø§Ø¦Ù„ Ù…Ø¤Ù‚ØªØ©
    function showTempMessage(message, type) {
        const msgDiv = document.createElement('div');
        msgDiv.textContent = message;
        msgDiv.style.cssText = `
            position: fixed;
            top: 20px;
            right: 20px;
            background: ${type === 'success' ? '#27ae60' : '#e74c3c'};
            color: white;
            padding: 15px 20px;
            border-radius: 10px;
            z-index: 10000;
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            animation: fadeIn 0.3s;
        `;
        document.body.appendChild(msgDiv);
        
        setTimeout(() => msgDiv.remove(), 5000);
    }
    
    // Ø¯Ø§Ù„Ø© Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ù…Ù† Firestore
    async function displayProductsFromFirestore() {
        try {
            const db = firebase.firestore();
            const snapshot = await db.collection('products')
                .where('status', '==', 'active')
                .orderBy('createdAt', 'desc')
                .limit(20)
                .get();
            
            const productsContainer = document.querySelector('.products-grid') || 
                                     document.querySelector('body > div:nth-child(3)') ||
                                     createProductsContainer();
            
            if (snapshot.empty) {
                productsContainer.innerHTML = `
                    <div style="text-align:center; padding:40px;">
                        <p style="color:#7f8c8d; font-size:18px;">ğŸ“­ Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù†ØªØ¬Ø§Øª Ù„Ù„Ø¹Ø±Ø¶ Ø¨Ø¹Ø¯</p>
                    </div>
                `;
                return;
            }
            
            // Ù…Ø³Ø­ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©
            productsContainer.innerHTML = '';
            
            // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
            snapshot.forEach((doc) => {
                const product = doc.data();
                
                const productCard = document.createElement('div');
                productCard.className = 'product-card';
                productCard.innerHTML = `
                    <img src="${product.imageUrl || 'https://via.placeholder.com/300x200/3498db/ffffff?text=Ù…Ù†ØªØ¬'}" 
                         alt="${product.name}" 
                         style="width:100%; height:200px; object-fit:cover; border-radius:10px; margin-bottom:15px;">
                    <h3 style="font-size:1.3rem; font-weight:bold; margin-bottom:10px; color:#2c3e50;">
                        ${product.name}
                    </h3>
                    <p style="color:#555; margin-bottom:10px;">${product.description}</p>
                    <div style="color:#e74c3c; font-size:1.5rem; font-weight:bold; margin:10px 0;">
                        $${product.price}
                    </div>
                    <p style="color:#7f8c8d; font-size:14px; margin:5px 0;">
                        ğŸ‘¤ Ø§Ù„Ø¨Ø§Ø¦Ø¹: ${product.sellerName || 'Ø¨Ø§Ø¦Ø¹'}
                    </p>
                    <button onclick="alert('ØªÙØ§ØµÙŠÙ„: ${product.name}\\nØ§Ù„Ø³Ø¹Ø±: $${product.price}\\nØ§Ù„Ø¨Ø§Ø¦Ø¹: ${product.sellerName}')" 
                            style="background:#3498db; color:white; border:none; padding:10px; 
                                   border-radius:8px; cursor:pointer; width:100%; margin-top:10px;">
                        ğŸ‘ï¸ Ø¹Ø±Ø¶ Ø§Ù„ØªÙØ§ØµÙŠÙ„
                    </button>
                `;
                
                productsContainer.appendChild(productCard);
            });
            
            console.log("âœ… ØªÙ… Ø¹Ø±Ø¶", snapshot.size, "Ù…Ù†ØªØ¬");
            
        } catch (error) {
            console.error("âŒ Ø®Ø·Ø£ ÙÙŠ Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª:", error);
        }
    }
    
    // Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø§ÙˆÙŠØ© Ù„Ù„Ù…Ù†ØªØ¬Ø§Øª Ø¥Ø°Ø§ Ù„Ù… ØªÙƒÙ† Ù…ÙˆØ¬ÙˆØ¯Ø©
    function createProductsContainer() {
        const container = document.createElement('div');
        container.className = 'products-grid';
        container.style.cssText = `
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 25px;
            margin: 30px 20px;
            padding: 20px;
        `;
        
        // Ø¥ÙŠØ¬Ø§Ø¯ Ù…ÙƒØ§Ù† Ù…Ù†Ø§Ø³Ø¨ Ù„Ù„Ø¥Ø¯Ø±Ø§Ø¬
        const target = document.querySelector('h2') || document.querySelector('h1');
        if (target) {
            target.parentNode.insertBefore(container, target.nextSibling);
        } else {
            document.body.appendChild(container);
        }
        
        return container;
    }
    
    // Ø¥Ø¶Ø§ÙØ© Ø²Ø± Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©
    function addAdminButton() {
        const btn = document.createElement('button');
        btn.innerHTML = 'â• Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª';
        btn.style.cssText = `
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: linear-gradient(135deg, #9b59b6, #8e44ad);
            color: white;
            padding: 15px 20px;
            border-radius: 50px;
            border: none;
            font-size: 16px;
            font-weight: bold;
            z-index: 9999;
            box-shadow: 0 4px 20px rgba(155, 89, 182, 0.4);
            cursor: pointer;
        `;
        
        btn.onclick = function() {
            const action = prompt(
                "Ø§Ø®ØªØ± Ø¥Ø¬Ø±Ø§Ø¡:\n1. Ø¹Ø±Ø¶ Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª\n2. Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯\n3. ØªØ­Ø¯ÙŠØ« Ø§Ù„ØµÙØ­Ø©",
                "1"
            );
            
            if (action === "1") {
                firebase.firestore().collection('products').get()
                    .then(snap => alert(`Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª: ${snap.size}`));
            } else if (action === "2") {
                addNewProduct();
            } else if (action === "3") {
                location.reload();
            }
        };
        
        document.body.appendChild(btn);
    }
    
    // Ø¯Ø§Ù„Ø© Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯
    async function addNewProduct() {
        const name = prompt("Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬:", "Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯");
        if (!name) return;
        
        const price = prompt("Ø§Ù„Ø³Ø¹Ø±:", "100");
        if (!price) return;
        
        const product = {
            name: name,
            description: prompt("Ø§Ù„ÙˆØµÙ:", "ÙˆØµÙ Ø§Ù„Ù…Ù†ØªØ¬") || "ÙˆØµÙ Ø§Ù„Ù…Ù†ØªØ¬",
            price: Number(price),
            category: prompt("Ø§Ù„ÙØ¦Ø© (electronics/books/other):", "electronics") || "electronics",
            imageUrl: "https://via.placeholder.com/300x200/3498db/ffffff?text=" + encodeURIComponent(name),
            sellerName: prompt("Ø§Ø³Ù… Ø§Ù„Ø¨Ø§Ø¦Ø¹:", "Ø¨Ø§Ø¦Ø¹"),
            status: "active",
            createdAt: firebase.firestore.FieldValue.serverTimestamp()
        };
        
        try {
            await firebase.firestore().collection('products').add(product);
            alert(`âœ… ØªÙ… Ø¥Ø¶Ø§ÙØ© "${name}" Ø¨Ù†Ø¬Ø§Ø­!`);
            location.reload();
        } catch (error) {
            alert("âŒ Ø®Ø·Ø£: " + error.message);
        }
    }
});
</script>

<style>
@keyframes fadeIn {
    from { opacity: 0; transform: translateY(-20px); }
    to { opacity: 1; transform: translateY(0); }
}

.product-card {
    background: white;
    border-radius: 15px;
    padding: 20px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.08);
    transition: transform 0.3s;
}

.product-card:hover {
    transform: translateY(-5px);
}
</style>
</body>
</html>